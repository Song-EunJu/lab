## 3장 : 타입과 추상화

- 지하철 노선도에서 중요한 것: 역-역 사이의 연결성을 얼마나 직관적으로 표현했는가!<br>
  → 핵심은 **역과 역 사이의 거리**라는 `정확성`을 버리고, **역 간의 연결성**이라는 `목적`에 집중한 것 <br>
- 추상화 : 불필요한 부분을 생략하거나 감춤으로써, **복잡도를 극복** 하는 방법<br>
   1. 구체적인 사물간의 **공통점은 취하고, 차이점은 버리는** `일반화` 를 통해 단순하게!<br>
   2. 중요한 부분을 강조하기 위해, **불필요한 세부사항 제거함으로써** 단순하게!<br>
 → 추상화는 복잡성을 / 이해하기 쉬운 수준으로 / 단순화하는 것
<br><br>

### 개념 (타입)
- 공통점을 기반으로 객체들을 포괄할 수 있는 것
ex) 기껏해야 트럼프에 불과해 ! <br>
→ 트럼프 안에는 정원사, 병사, 신하, 왕자 트럼프가 있음<br>
→ 토끼는 트럼프 집단에 들어가지 않음 <br>

- `개념`을 이용해서 객체를 <u>여러 그룹으로</u> `분류` 가능<br>
ex) 정원에 존재하는 객체를 1) 트럼프, 2) 토끼라는 개념으로 분류
- 객체에 어떤 개념을 적용하는 것이 가능해서, **개념 그룹의 일원이 될 때** 객체를 그 개념의 `인스턴스`라고 함

- **객체** : 특정한 개념을 적용할 수 있는 구체적 사물
- **개념의 인스턴스** : 개념이 객체에 적용됐을 때의 객체
<br>

### 개념의 3가지 관점
- 개념은 특정한 객체가 어떤 그룹에 속할 것인지를 결정함

1. **심볼** : 개념을 가리키는 이름<br>
2. **내연** : 개념의 완전한 정의 / 객체가 개념에 속하는지 여부 확인 가능<br>
   - **개념을 객체에게 적용할 수 있는지** 여부를 판단하기 위한 **조건**
3. **외연** : 개념에 속하는 모든 객체의 집합<br>

ex) 
심볼 : 트럼프<br>
내연 : 몸이 납작하고 두손과 두발이 네모 귀퉁이에 달려있음<br>
외연 : 정원사, 병사, 신하, 왕자<br>
<br>

### 분류
- 객체에 특정한 개념을 적용하는 작업
- 객체에 어떤 개념을 적용할 지 결정하는 것 == 객체들을 개념에 따라 분류하는 것
- 어떤 객체를 어떤 개념으로 분류할 지가 객체지향의 품질을 결정!
- 최대한 직관적으로 분류하라

- 분류는 추상화를 위한 도구
  - 추상화 : 불필요한 부분을 생략하거나 감춤으로써, **`복잡도를 극복`** 하는 방법
    1. 구체적인 사물간의 **공통점은 취하고, 차이점은 버리는** `일반화` 를 통해 단순하게!
       - 개념은 일반화를 적용한 결과 <br>
       → 어떤 그룹에 속할 것인지 결정하기 위해서는 공통점을 기반으로 객체를 포괄하는 것을 찾아야 함<br>
    2. 중요한 부분을 강조하기 위해, **불필요한 세부사항 제거함으로써** 단순하게!<br>
       - 특징 중 불필요한 세부사항 제거한 결과  
<br>

### 객체와 타입

- 객체는 데이터인가? 아니다.
  - 객체에서 중요한 것은 **객체의 행동**
  - 상태는, **행동의 결과로 초래된 부수효과**를 쉽게 표현하기 위해 도입한 **추상적인 개념**일 뿐<br>
✅ 객체가 협력을 위해 어떤 책임을 지녀야 하는지 결정하는 것이 객체지향 설계의 핵심

- 객체가 어떤 **`타입`에 속하는 지 결정하는 것** : 객체가 수행하는 **`행동`**<br>
✅ 행동이 타입을 결정한다.<br>
- **객체의 내부 표현 방식이 다르더라도** 객체들이 동일한 `행동` 을 수행할 수 있다면 동일한 `타입`으로 분류됨<br>
= 동일한 `책임`을 수행한다면 동일한 `타입`에 속함<br>
→ 어떤 데이터를 갖고 있는지는 우리의 관심사가 아님!<br>

✅ **객체의 타입을 결정하는 것은 객체의 행동**. 어떤 데이터를 보유한지는 타입 결정하는데 아무런 영향 X
- 내부의 표현방식이 다르다는 것 == 동일한 메시지를 처리하는 방식이 서로 다르다<br>
→ 다형성 (동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력)
```
Customer
- VIP Customer
    - 할인카드 보유
- General Customer 

동일 행동) 물건을 구매한다 
          - VIP : 할인카드로 구매한다
          - General : 일반카드로 구매한다
```           

- 객체가 외부에 제공해야 하는 책임을 결정
- 책임을 수행하는데 적합한 데이터를 결정
- 책임 수행하는 데 필요한 외부 인터페이스 뒤로 데이터를 캡슐화
→ 책임-주도 설계
<br>

### 일반화/특수화
- 일반화/특수화 관계를 결정하는 것은 객체의 상태를 표현하는 **데이터가 아니라 행동**
  - 한 타입이 다른 타입보다 더 특수하게 행동, 더 일반적으로 행동
- 일반적인 타입 : 특수 타입이 가진 행동 중에 **일부 행동**만을 가짐 - super type<br>
- 특수한 타입 : 일반 타입이 가진 **모든 행동**을 포함 + **자신만의 행동** 추가 - sub type<br>
  - 서브타입은 슈퍼타입을 대체 가능해야 함
<br>

### 정적모델
![][def]
- 타입은 시간에 따라 동적으로 변하는 객체의 상태를, **시간에 무관한 정적인 모습으로 다룰 수 있게 해줌**
  - 앨리스의 키가 100,80,300이 될 수 있다는 사실을 뒤로 미루고, 앨리스가 **변경되는** 키라는 **상태를 가진다라고 단순화**하면 그만 <br>
→ 이런 관점에서 **타입은 추상화**<br>
  - 시간, 상태변화라는 요소를 제거하고, 철저하게 정적인 관점에서 앨리스의 모습을 묘사하게 해줌
  - 타입을 이용하면 **`객체의 동적인 특성을 추상화`** 할 수 있음
    - 시간에 따른 객체의 상태변경이라는 **복잡성을 단순화**할 수 있는 방법인 것
<br>

### 동적모델과 정적모델
- 동적모델 : 객체가 살아 움직이는 동안 **상태와 행동의 변화를 포착하는 것**
  - 애플리케이션 실행 시 객체 상태 변경을 추적하고 디버깅하는 것은 동적 모델을 탐험하는 것
- 정적모델 : 객체가 가질 수 있는 **모든 상태와 행동을 시간에 독립적으로 표현**하는 것
  - 클래스를 작성하는 시점이 시스템을 정적 관점에서 접근하는 것
<br>

### 클래스
- 정적인 모델은 클래스를 이용해 구현
- 타입을 구현하는 보편적인 방법이 클래스를 이용하는 것 → 클래스 ≠ 타입
- 클래스는 그저 타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 메커니즘
- 정리
  - 객체를 분류하는 기준은 타입
  - 타입을 나누는 기준은 객체가 수행하는 `행동`
  - 객체를 분류하기 위해 타입을 결정하고, 타입을 구현할 수 있는 방법이 클래스
    ```
    1. A,B,C 라는 사람을 분류하는 기준은 타입이다.
    2. '물건을 구매한다' 는 고객이라는 타입이 수행하는 행동이다. '물건을 판매한다' 는 판매원이라는 타입이 수행한다.
    3. 따라서 A,B,C는 지금 물건을 구매하는 행동을 하고 있기 때문에 고객 타입에 속한다.
    4. 이 고객 타입을 Customer class 로 구현할 수 있다.
    ```      
  
[def]: https://velog.velcdn.com/images/yh_lee/post/02039360-cf95-4098-8881-71192a475293/image.png